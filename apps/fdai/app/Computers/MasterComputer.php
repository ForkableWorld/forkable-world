<?php
/*
*  GNU General Public License v3.0
*  Contributors: ADD YOUR NAME HERE, Mike P. Sinn
 */

namespace App\Computers;
use App\DevOps\Jenkins\Jenkins;
use App\Utils\EnvOverride;
use Symfony\Component\Process\Process;
class MasterComputer extends JenkinsSlave {
	/**
	 * @param object|null $computer
	 */
	public function __construct(object $computer = null){
		if(!$computer){
			$this->processConfigurationClosure = fn (Process $process) => null;
			$this->onOutput = fn ($type, $line) => null;
		}
		$this->setCwd(Jenkins::JENKINS_HOME_FOLDER);
		$this->displayName = self::LABEL_MASTER;
		$this->port = 2222;
		$this->host = $this->ip = "192.168.1.146";
		$this->user = "jenkins";
		parent::__construct($computer);
	}
	public function needToReboot(): ?string{ return null; }
	public function isWeb(): bool{ return false; }
	public function getIP(): string{
		if(EnvOverride::isLocal()){
			return "127.0.0.1";
		}
		return parent::getIP(); // TODO: Change the autogenerated stub
	}
}
